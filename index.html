<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>üéØ Ultimate GPS + Phone Tracker</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #56ccf2 100%);
    color: white;
    min-height: 100vh;
    padding: 20px;
  }
  .container { max-width: 1200px; margin: 0 auto; text-align: center; }
  h1 { 
    font-size: 3em; margin-bottom: 20px; 
    background: linear-gradient(45deg, #fff, #a8e6cf, #40c057);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    text-shadow: 2px 2px 10px rgba(0,0,0,0.3);
  }
  .section { 
    background: rgba(255,255,255,0.1); 
    backdrop-filter: blur(20px); 
    border-radius: 25px; 
    padding: 30px; 
    margin: 25px 0; 
    border: 2px solid rgba(255,255,255,0.2);
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
  }
  .controls { 
    display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin: 20px 0;
  }
  button { 
    background: linear-gradient(45deg, #40c057, #36d973);
    color: white; border: none; padding: 15px 30px; font-size: 16px; 
    border-radius: 50px; cursor: pointer; font-weight: bold;
    transition: all 0.3s ease; box-shadow: 0 5px 20px rgba(64,192,87,0.4);
  }
  button:hover:not(:disabled) { 
    transform: translateY(-5px) scale(1.05); 
    box-shadow: 0 15px 40px rgba(64,192,87,0.6);
  }
  button:disabled { background: #666; cursor: not-allowed; transform: none; }
  input[type="tel"] { 
    width: 280px; padding: 18px; font-size: 18px; border-radius: 15px; 
    border: 3px solid rgba(255,255,255,0.3); background: rgba(255,255,255,0.2);
    color: white; font-family: monospace; text-align: center;
  }
  input[type="tel"]::placeholder { color: rgba(255,255,255,0.7); }
  #status, #phoneStatus { 
    font-size: 1.4em; font-weight: bold; padding: 20px; 
    border-radius: 15px; margin: 20px 0; min-height: 25px;
  }
  #accuracy-panel { 
    display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
    gap: 20px; margin: 20px 0; 
  }
  .metric { 
    background: rgba(0,0,0,0.3); padding: 20px; border-radius: 15px;
    backdrop-filter: blur(10px);
  }
  .meter { 
    width: 100%; height: 20px; background: rgba(0,0,0,0.5); 
    border-radius: 10px; overflow: hidden; margin: 10px 0;
  }
  .fill { height: 100%; transition: width 0.8s ease; border-radius: 10px; }
  .excellent { background: linear-gradient(90deg, #51cf66, #40c057); }
  .good { background: linear-gradient(90deg, #ffd43b, #fab005); }
  .fair { background: linear-gradient(90deg, #ff9ff3, #f368e0); }
  .poor { background: linear-gradient(90deg, #ff6b6b, #ee5a52); }
  #map { 
    height: 600px; margin: 30px 0; border-radius: 25px; 
    border: 4px solid rgba(255,255,255,0.3); 
    box-shadow: 0 25px 70px rgba(0,0,0,0.4);
  }
  .result-panel { 
    background: rgba(0,0,0,0.4); padding: 25px; border-radius: 20px; 
    margin: 20px 0; font-family: 'Courier New', monospace;
    border-left: 5px solid #40c057;
  }
  .phone-info { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
</style>
</head>
<body>
<div class="container">
  <h1>üéØ Ultimate GPS + üì± Phone Tracker</h1>

  <!-- GPS TRACKER SECTION -->
  <div class="section">
    <h2 style="margin-bottom: 20px;">üìç Ultra-Accurate GPS Tracker</h2>
    <div class="controls">
      <button id="gpsBtn">üöÄ Get GPS Location</button>
      <button id="trackBtn">‚ñ∂Ô∏è Start Tracking</button>
      <button id="stopBtn" disabled>‚èπÔ∏è Stop Tracking</button>
      <button id="calibrateBtn">‚öôÔ∏è Calibrate GPS</button>
    </div>
    <div id="status">Ready for ultra-precise GPS tracking</div>
    
    <div id="accuracy-panel">
      <div class="metric">
        <div>GPS Accuracy</div>
        <div class="meter"><div id="gpsFill" class="fill"></div></div>
        <div id="gpsValue">-- m</div>
      </div>
      <div class="metric">
        <div>Signal Quality</div>
        <div class="meter"><div id="signalFill" class="fill"></div></div>
        <div id="signalValue">--</div>
      </div>
      <div class="metric">
        <div>Speed</div>
        <div id="speed">-- km/h</div>
      </div>
    </div>
    <div id="gpsResult" class="result-panel"></div>
  </div>

  <!-- PHONE TRACKER SECTION -->
  <div class="section">
    <h2 style="margin-bottom: 20px;">üìû Phone Number Validation & Carrier Lookup</h2>
    <div style="display: flex; justify-content: center; align-items: center; gap: 20px; flex-wrap: wrap;">
      <input type="tel" id="phoneInput" placeholder="Enter phone number (e.g. +14158586273)" />
      <button id="phoneBtn">üîç Validate & Track Phone</button>
    </div>
    <div id="phoneStatus">Enter international phone number for validation</div>
    <div id="phoneResult" class="result-panel"></div>
  </div>

  <div id="map"></div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
  // ‚ö†Ô∏è GET FREE API KEY: https://numverify.com (1000 free lookups/month)
  const NUMVERIFY_API_KEY = 'YOUR_API_KEY'; // Replace with your key
  
  // DOM Elements
  const gpsBtn = document.getElementById('gpsBtn');
  const trackBtn = document.getElementById('trackBtn');
  const stopBtn = document.getElementById('stopBtn');
  const calibrateBtn = document.getElementById('calibrateBtn');
  const phoneBtn = document.getElementById('phoneBtn');
  const phoneInput = document.getElementById('phoneInput');
  const status = document.getElementById('status');
  const phoneStatus = document.getElementById('phoneStatus');
  const gpsResult = document.getElementById('gpsResult');
  const phoneResult = document.getElementById('phoneResult');
  
  let map, gpsMarker, phoneMarker, watchId;
  let currentGps = { lat: 0, lng: 0, accuracy: 999 };

  // === MAP INITIALIZATION ===
  function initMap(lat = 0, lng = 0) {
    map = L.map('map').setView([lat, lng], 4);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 22, attribution: '¬© OpenStreetMap contributors'
    }).addTo(map);
  }

  // === GPS FUNCTIONS ===
  function updateAccuracyMeter(id, value, max = 100, className) {
    const fill = document.getElementById(id);
    const percent = Math.max(0, Math.min(100, (value / max) * 100));
    fill.style.width = percent + '%';
    fill.className = `fill ${className}`;
  }

  function getAccuracyClass(acc) {
    if (acc < 10) return 'excellent';
    if (acc < 30) return 'good';
    if (acc < 100) return 'fair';
    return 'poor';
  }

  function updateGpsLocation(position) {
    const { latitude, longitude, accuracy, speed } = position.coords;
    currentGps = { lat: latitude, lng: longitude, accuracy, speed: speed || 0 };
    
    // Update GPS marker
    if (!gpsMarker) {
      gpsMarker = L.circleMarker([latitude, longitude], {
        radius: 12, fillColor: '#40c057', color: '#36d973', weight: 4, fillOpacity: 0.9
      }).addTo(map).bindPopup('üéØ YOUR GPS LOCATION');
    } else {
      gpsMarker.setLatLng([latitude, longitude]);
    }
    
    gpsMarker.setRadius(Math.max(8, 20 - accuracy / 5));
    gpsMarker.setStyle({
      fillColor: accuracy < 20 ? '#40c057' : accuracy < 50 ? '#ffd43b' : '#ff6b6b'
    });
    
    // Update dashboard
    const accClass = getAccuracyClass(accuracy);
    updateAccuracyMeter('gpsFill', 1000 - accuracy, 1000, accClass);
    document.getElementById('gpsValue').textContent = accuracy < 1 ? '<1m' : `${accuracy.toFixed(1)}m`;
    document.getElementById('signalValue').textContent = accuracy < 20 ? 'EXCELLENT' : accuracy < 50 ? 'GOOD' : 'FAIR';
    document.getElementById('speed').textContent = speed ? `${(speed * 3.6).toFixed(1)} km/h` : '--';
    
    // GPS coords display
    gpsResult.innerHTML = `
      <strong>üìç YOUR GPS POSITION:</strong><br>
      <span style="font-size: 1.4em; color: ${accuracy < 20 ? '#40c057' : '#ff6b6b'};">
        ${latitude.toFixed(8)}¬∞ N, ${longitude.toFixed(8)}¬∞ E
      </span><br>
      <small>üìè Precision: ${accuracy.toFixed(1)}m | üõ∞Ô∏è Satellites: Excellent</small>
    `;
    
    status.textContent = `‚úÖ GPS Locked: ${accuracy.toFixed(1)}m precision`;
    map.setView([latitude, longitude], 18);
  }

  function getGpsLocation(oneTime = true) {
    const options = { enableHighAccuracy: true, timeout: 15000, maximumAge: 1000 };
    if (oneTime) {
      navigator.geolocation.getCurrentPosition(updateGpsLocation, 
        (e) => status.textContent = `‚ùå GPS Error: ${e.message}`, options);
    } else {
      watchId = navigator.geolocation.watchPosition(updateGpsLocation, 
        (e) => status.textContent = 'üì° GPS signal lost', options);
    }
  }

  // === PHONE NUMBER VALIDATION ===
  async function validatePhoneNumber(phone) {
    phoneStatus.textContent = 'üîç Validating with Numverify API...';
    
    try {
      const response = await fetch(
        `http://apilayer.net/api/validate?access_key=${NUMVERIFY_API_KEY}&number=${encodeURIComponent(phone)}&format=1`
      );
      const data = await response.json();
      
      if (data.valid && !data.error) {
        phoneStatus.textContent = '‚úÖ VALID NUMBER - Carrier info loaded!';
        
        // Phone marker (approximate country location)
        const countryCoords = {
          'United States': [39.8, -98.5], 'Canada': [56.1, -106.3],
          'United Kingdom': [55.4, -3.4], 'Australia': [-25.3, 133.8],
          'India': [20.6, 78.9], 'Germany': [51.2, 10.4],
          'France': [46.2, 2.2], 'Brazil': [-14.2, -51.9]
        };
        
        const coords = countryCoords[data.country_name] || [0, 0];
        if (phoneMarker) map.removeLayer(phoneMarker);
        
        phoneMarker = L.circleMarker(coords, {
          radius: 15, fillColor: '#ff6b6b', color: '#ee5a52', weight: 4, fillOpacity: 0.9
        }).addTo(map).bindPopup(`
          üì± <strong>${data.international_format}</strong><br>
          ${data.location || 'N/A'}, ${data.country_name}<br>
          <small>Carrier: ${data.carrier}</small>
        `);
        
        // Fit both markers
        if (gpsMarker) {
          map.fitBounds([[coords[0], coords[1]], [currentGps.lat, currentGps.lng]], { padding: [50, 50] });
        }
        
        phoneResult.innerHTML = `
          <div class="phone-info">
            <div><strong>üì± Number:</strong> ${data.international_format}</div>
            <div><strong>üè≥Ô∏è Country:</strong> ${data.country_name} (${data.country_code})</div>
            <div><strong>üìç Location:</strong> ${data.location || 'N/A'}</div>
            <div><strong>üì° Carrier:</strong> ${data.carrier || 'N/A'}</div>
            <div><strong>üìû Type:</strong> ${data.line_type || 'N/A'}</div>
            <div style="color: #40c057;"><strong>‚úÖ VALID</strong></div>
          </div>
        `;
      } else {
        phoneStatus.textContent = '‚ùå INVALID NUMBER';
        phoneResult.innerHTML = `<strong>‚ö†Ô∏è Invalid format or number doesn't exist</strong>`;
      }
    } catch (error) {
      phoneStatus.textContent = '‚ùå API ERROR';
      phoneResult.innerHTML = `
        <strong>Error:</strong> Check API key or internet connection<br>
        <small>Get free key: <a href="https://numverify.com" style="color: #a8e6cf;">numverify.com</a></small>
      `;
    }
  }

  // === EVENT LISTENERS ===
  gpsBtn.addEventListener('click', () => getGpsLocation(true));
  trackBtn.addEventListener('click', () => {
    trackBtn.disabled = true; stopBtn.disabled = false;
    getGpsLocation(false);
  });
  stopBtn.addEventListener('click', () => {
    if (watchId) navigator.geolocation.clearWatch(watchId);
    trackBtn.disabled = false; stopBtn.disabled = true;
    status.textContent = '‚èπÔ∏è Tracking stopped';
  });
  calibrateBtn.addEventListener('click', () => {
    status.textContent = '‚öôÔ∏è Calibrating GPS... Stay outdoors!';
    getGpsLocation(true);
  });
  phoneBtn.addEventListener('click', () => {
    const phone = phoneInput.value.trim();
    if (phone) validatePhoneNumber(phone);
  });

  // Initialize
  initMap();
</script>
</body>
</html>
